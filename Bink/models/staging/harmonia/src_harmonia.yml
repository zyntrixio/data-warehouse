version: 2

sources:
 
  - name: Harmonia
    description: Harmonia schema, containing transaction data
    database: RAW
    schema: DEV_HARMONIA
    tags: ['source']

    tables:
      - name: payment_transaction
        identifier: PAYMENT_TRANSACTION
        description: Table contains transactions
        freshness:
          warn_after: { count: 2, period: hour }
        meta:
          elementary:
            timestamp_column: '_AIRBYTE_EMITTED_AT'
        # tests:
        #     - elementary.table_anomalies
        #     - elementary.schema_changes
        # columns:
        #   - name: 'ID'
        #     description: Primary key of user table
        #     tests:
        #       - unique
        #       - not_null
        #   - name: 'TRANSACTION_ID'
        #     description: Business Primary key of user table
        #     tests:
        #       - unique
        #       - not_null
      - name: matched_transaction
        identifier: MATCHED_TRANSACTION
        description: Table contains transactions
        freshness:
          warn_after: { count: 2, period: hour }
        meta:
          elementary:
            timestamp_column: '_AIRBYTE_EMITTED_AT'
        # tests:
        #     - elementary.table_anomalies
        #     - elementary.schema_changes
        # columns:
        #   - name: 'ID'
        #     description: Primary key of user table
        #     tests:
        #       - unique
        #       - not_null
        #   - name: 'TRANSACTION_ID'
        #     description: Business Primary key of user table
        #     tests:
        #       - unique
        #       - not_null
      - name: export_transaction
        identifier: EXPORT_TRANSACTION
        description: Table contains transactions
        freshness:
          warn_after: { count: 2, period: hour }
        meta:
          elementary:
            timestamp_column: '_AIRBYTE_EMITTED_AT'
        # tests:
        #     - elementary.table_anomalies
        #     - elementary.schema_changes
        # columns:
        #   - name: 'ID'
        #     description: Primary key of user table
        #     tests:
        #       - unique
        #       - not_null
        #   - name: 'TRANSACTION_ID'
        #     description: Business Primary key of user table
        #     tests:
        #       - unique
        #       - not_null
              
